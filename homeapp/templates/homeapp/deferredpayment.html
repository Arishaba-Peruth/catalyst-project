{% extends 'homeapp/base.html' %}
{% load static %}
{% block content %}
    <link rel="stylesheet" href="{% static 'deferredpayment.css' %}">
    <br><br><br>
    <main>
        <div class="deferred-header">
            <h1>Credit Sales Records</h1>
            <a href="{% url 'add_deferredpayment' %}" class="add-credit-btn">Add New Credit Sale</a>
        </div>
        <div class="credit-table-wrapper">
            <table class="credit-status-table">
                <thead>
                    <tr>
                        <th>Buyer Name</th>
                        <th>NIN</th>
                        <th>Amount Due</th>
                        <th>Contact</th>
                        <th>Produce</th>
                        <th>Quantity (kg)</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for payment in deferred_payments %}
                    <tr>
                        <td>{{ payment.Name_of_buyer }}</td>
                        <td>{{ payment.Nin }}</td>
                        <td>UGX {{ payment.Amount_due }}</td>
                        <td>{{ payment.Contact }}</td>
                        <td>{{ payment.Produce_name }}</td>
                        <td>{{ payment.Tonnage }}</td>
                        <td>
                            <a href="{% url 'viewcredit' pk=payment.id %}" class="view-btn">View</a>
                            <a href="{% url 'editcredit' pk=payment.id %}" class="edit-btn">Edit</a>
                            <a href="{% url 'deletecredit' pk=payment.id %}" class="delete-btn">Delete</a>
                        </td>
                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="8" class="no-records">No credit sales records found</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </main>
{% endblock %}